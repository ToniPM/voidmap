# voidmap

A minecraft map generator. Note this is a generator in the very literal sense that it generates a map when you run it. It is not integrated with minecraft itself: it uses anvil-parser to write directly on the forge files. anvil-parser "by itself" is slowed down quite a bit due to security checks - some (very specific!) extensions to speed up the usage of it for this particular program are necessary. The program CANNOT RUN without some extensions to anvil-parser that are NOT in this repository, unless it is modified to do so.

The map is entirely made of caves, obtained by combining a heightmap on top and one on the bottom. Both of these are defined as a product of:
* Low frequency simplex noise, controlling the "large-scale" terrain height
* A high frequency sine (left-)composed with very low frequency simplex noise

The combined effect is summarized in this picture (by default, this is generated and shown before the map itself):

![](https://i.imgur.com/A4fQENq.png)

This topographic map is not directly translated into the map. Vertical slices of the map are grouped into pillars (according to a voronoi diagram), and the height of every slice in a pillar is the height of the topograph at its center. This does not matter very much for performance, it simply has an interesting look:

![](https://i.imgur.com/E0YZ6fu.png)
![](https://i.imgur.com/UvRfaDs.png)

The map contains four upside-down trees (their amount and position is configurable, with some restrictions), meant to indicate and guide players to important spots therein. These are generated by laying a root node in a specified spot, creating a complete geometric graph on a random sampling of a (very large) ball centered around the root, and using a particular graph exploration algorithm starting at the root.

The graph exploration is done through a modified version of dijkstra's algorithm that places more weight on the last edge of every path, thus taking paths that are not very round-about from the root, but nonetheless generally take advantage of the previously built parts of the tree.

Tree rasterization is as follows: Each edge is assigned a weight corresponding to their strahler number. Succesive edges with the same weight in a path away from the root are grouped into "branches". Branches of weight>2 are then rasterized as quadratic splines with width corresponding to their weight, taking a na√Øve approach to both rasterization and spline building. Rasterization of 3d splines, in particular, is a fairly uncommon practice as far as I can tell. Some examples:

![](https://i.imgur.com/6bTYyI9.png)
![](https://i.imgur.com/o2wtBYq.png)
![](https://i.imgur.com/rawFkJ4.png)
![](https://i.imgur.com/UF2oqys.png)
